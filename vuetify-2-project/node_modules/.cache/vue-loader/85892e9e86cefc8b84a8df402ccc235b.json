{"remainingRequest":"C:\\Users\\vii_v\\Downloads\\autoestudo-versionFinal\\autoestudo\\vuetify-2-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\vii_v\\Downloads\\autoestudo-versionFinal\\autoestudo\\vuetify-2-project\\src\\views\\AddMatricula.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\vii_v\\Downloads\\autoestudo-versionFinal\\autoestudo\\vuetify-2-project\\src\\views\\AddMatricula.vue","mtime":1649730470292},{"path":"C:\\Users\\vii_v\\Downloads\\autoestudo-versionFinal\\autoestudo\\vuetify-2-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649717906668},{"path":"C:\\Users\\vii_v\\Downloads\\autoestudo-versionFinal\\autoestudo\\vuetify-2-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1649717909557}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFJlcG9zaXRvcnlGYWN0b3J5IH0gZnJvbSAiQC9yZXBvc2l0b3JpZXMvUmVwb3NpdG9yeUZhY3RvcnkiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKY29uc3QgdXN1YXJpb1JlcG8gPSBSZXBvc2l0b3J5RmFjdG9yeS5nZXQoInVzdWFyaW8iKTsKY29uc3QgY3Vyc29SZXBvID0gUmVwb3NpdG9yeUZhY3RvcnkuZ2V0KCJjdXJzbyIpOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6ICgpID0+ICh7CiAgICB2YWxpZDogdHJ1ZSwKICAgIHVzdWFyaW9zOiBbXSwKICAgIGN1cnNvczogW10sCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHVzdWFyaW9TZWxlY2lvbmFkbzogIiIsCiAgICBjdXJzb1NlbGVjaW9uYWRvOiAiIiwKICB9KSwKCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHByb21pc2VVc2VyID0gdXN1YXJpb1JlcG8uZ2V0QWxsKCk7CiAgICBjb25zdCBwcm9taXNlQ3Vyc28gPSBjdXJzb1JlcG8uZ2V0QWxsKCk7CiAgICB0cnkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBjb25zdCBbeyBkYXRhOiB1c3VhcmlvcyB9LCB7IGRhdGE6IGN1cnNvcyB9XSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICBwcm9taXNlVXNlciwKICAgICAgICBwcm9taXNlQ3Vyc28sCiAgICAgIF0pOwoKICAgICAgdGhpcy51c3VhcmlvcyA9IHVzdWFyaW9zOwogICAgICB0aGlzLmN1cnNvcyA9IGN1cnNvczsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgfQogICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgY3JpYXJNYXRyaWN1bGEoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBhd2FpdCBheGlvcy5wb3N0KCIvbWF0cmljdWxhIiwgewogICAgICAgICAgaWRfdXNlcjogdGhpcy51c3VhcmlvU2VsZWNpb25hZG8sCiAgICAgICAgICBpZF9jdXJzbzogdGhpcy5jdXJzb1NlbGVjaW9uYWRvLAogICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCJTdWNlc3NvOiBNYXRyw61jdWxhIGNhZGFzdHJhdGFkYSEiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21hdHJpY3VsYSIpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGFsZXJ0KCJFcnJvOiBSZXZpc2Ugb3MgZGFkb3MhIik7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AddMatricula.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddMatricula.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container fluid class=\"fill-height\">\n    <v-row align=\"center\" justify=\"center\">\n      <v-col cols=\"12\" sm=\"8\" md=\"4\">\n        <v-card class=\"elevation-12\">\n          <v-toolbar color=\"primary\" dark flat>\n            <v-toolbar-title> Matrícula </v-toolbar-title>\n          </v-toolbar>\n\n          <v-form\n            @submit.prevent=\"criarMatricula()\"\n            ref=\"form\"\n            lazy-validation\n            v-model=\"valid\"\n          >\n            <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\n              <v-select\n                :items=\"usuarios\"\n                label=\"Usuario\"\n                utlined\n                v-model=\"usuarioSelecionado\"\n                item-text=\"nome\"\n                item-value=\"id\"\n              ></v-select>\n            </v-col>\n\n            <v-col class=\"d-flex\" cols=\"12\" sm=\"6\">\n              <v-select\n                :items=\"cursos\"\n                label=\"Curso\"\n                utlined\n                v-model=\"cursoSelecionado\"\n                item-text=\"nome\"\n                item-value=\"id\"\n              ></v-select>\n            </v-col>\n\n            <v-card-actions>\n              <v-spacer />\n              <v-btn color=\"primary\" :loading=\"loading\" type=\"submit\"\n                >Realizar matricula</v-btn\n              >\n            </v-card-actions>\n          </v-form>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { RepositoryFactory } from \"@/repositories/RepositoryFactory\";\nimport axios from \"axios\";\n\nconst usuarioRepo = RepositoryFactory.get(\"usuario\");\nconst cursoRepo = RepositoryFactory.get(\"curso\");\n\nexport default {\n  data: () => ({\n    valid: true,\n    usuarios: [],\n    cursos: [],\n    loading: false,\n    usuarioSelecionado: \"\",\n    cursoSelecionado: \"\",\n  }),\n\n  async created() {\n    const promiseUser = usuarioRepo.getAll();\n    const promiseCurso = cursoRepo.getAll();\n    try {\n      this.loading = true;\n      const [{ data: usuarios }, { data: cursos }] = await Promise.all([\n        promiseUser,\n        promiseCurso,\n      ]);\n\n      this.usuarios = usuarios;\n      this.cursos = cursos;\n    } catch (error) {\n      console.error(error);\n    }\n    this.loading = false;\n  },\n\n  methods: {\n    async criarMatricula() {\n      try {\n        this.loading = true;\n        await axios.post(\"/matricula\", {\n          id_user: this.usuarioSelecionado,\n          id_curso: this.cursoSelecionado,\n        });\n        alert(\"Sucesso: Matrícula cadastratada!\");\n        this.$router.push(\"/matricula\");\n      } catch (error) {\n        alert(\"Erro: Revise os dados!\");\n        console.error(error);\n      }\n      this.loading = false;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"css\">\n</style>"]}]}